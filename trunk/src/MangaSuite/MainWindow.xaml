<Window x:Class="MangaDownloader.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:MangaDownloader"
        x:Name="loa"
        Title="MainWindow"
        Width="800"
        Height="500"
        MinWidth="300"
        Loaded="loa_Loaded">
    <Window.Resources>
        <Style TargetType="Control">
            <Setter Property="Margin" Value="2" />
        </Style>
    </Window.Resources>
    <Grid>
        <Grid Visibility="Collapsed">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto" MinWidth="300" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Expander Grid.Column="0"
                      ExpandDirection="Right"
                      IsExpanded="true"
                      Visibility="Collapsed">
                <Grid Margin="5">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="25" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="auto" />
                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="8*" />
                            <ColumnDefinition Width="2*" />
                        </Grid.ColumnDefinitions>
                        <TextBox Name="SearchTextBox"
                                 Grid.Column="0"
                                 Margin="2" />
                        <Button Grid.Column="1"
                                Margin="2"
                                Command="{Binding StartCommand}"
                                Content="Search"
                                DataContext="{Binding StartGetMangaCommand}" />
                    </Grid>
                    <ListBox Name="MangaListBox"
                             Grid.Row="1"
                             ItemsSource="{Binding Series}">
                        <ListBox.ContextMenu>
                            <ContextMenu>
                                <MenuItem />
                            </ContextMenu>
                        </ListBox.ContextMenu>
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Path Width="16"
                                          Height="16"
                                          Data="M35.339996,38.792004L33.808578,46.662056 33.808445,46.710781C33.785896,47.157234 33.613895,47.598759 33.288654,47.954193 32.545151,48.766018 31.284739,48.822613 30.472233,48.079884 29.658325,47.337151 29.602325,46.076065 30.345831,45.263641 30.39222,45.212822 30.440636,45.164959 30.490849,45.120064L30.492266,45.118919z M32.2229,34.969002C37.054955,34.969002,40.986,39.09153,40.986,44.424999L40.228092,44.424999C40.228092,39.09153 36.636951,35.785427 32.2229,35.785427 27.80875,35.785427 24.21751,39.09153 24.21751,44.424999L23.461,44.424999C23.461,39.09153,27.392046,34.969002,32.2229,34.969002z M32.000149,30.959C30.823658,30.959,29.688866,31.137821,28.621496,31.469776L28.122593,31.638567 28.093533,31.648802 28.036627,31.670834 27.640232,31.827108 27.474752,31.898289 27.176241,32.033226 27.014154,32.110104 26.638311,32.30257 26.584263,32.330666 26.334949,32.473999 26.334799,32.473667 26.108421,32.603813C22.828449,34.596466 20.637001,38.202702 20.637001,42.320999 20.637001,48.596401 25.725533,53.682999 32.000149,53.682999 38.274769,53.682999 43.362,48.596401 43.362,42.320999 43.362,36.045498 38.274769,30.959 32.000149,30.959z M16.634497,14.143611L17.602757,16.099403 17.400076,16.279602C13.002159,20.284231,10.236843,26.049978,10.236843,32.424999L8.1730003,32.424999C8.1730003,25.133327,11.380238,18.667599,16.442406,14.305176z M32.076672,8.5200005C45.258991,8.5200005,55.983002,19.091656,55.983002,32.424999L53.919197,32.424999C53.919197,20.424959 44.119686,10.583728 32.076672,10.583728 27.749216,10.583728 23.711496,11.854727 20.314157,14.040157L20.274458,14.066374 19.335621,12.170992 19.691483,11.950336C23.305799,9.7691898,27.546144,8.5200005,32.076672,8.5200005z M31.999994,4.9910002C16.986771,4.9910002 4.816,17.421963 4.816,32.435692 4.816,34.166195 4.9852524,36.424599 5.2925673,37.757999L18.470118,37.757999 18.587353,37.411491C19.775869,34.165188,22.109274,31.470758,25.098755,29.817301L25.129456,29.801073 18.336166,14.738417C18.001574,14.055908 18.001574,14.055908 18.217669,13.498 18.75416,13.617802 18.715061,13.425099 19.191652,14.310611L26.91029,28.978067 27.069523,28.915987C28.606182,28.350657 30.266958,28.042 31.999901,28.042 38.161472,28.042 43.411469,31.944033 45.413502,37.411491L45.530754,37.757999 58.706093,37.757999C59.014694,36.424599 59.183998,34.078194 59.183998,32.34779 59.183998,17.334763 47.013218,4.9910002 31.999994,4.9910002z M32,0C49.673199,0 64,14.326 64,32 64,49.672401 49.673199,64 32,64 14.3268,64 0,49.672401 0,32 0,14.326 14.3268,0 32,0z"
                                          Fill="#FFFFF7F7"
                                          Stretch="Uniform"
                                          Visibility="{Binding RelativeSource={RelativeSource Mode=FindAncestor,
                                                                                              AncestorType=ListBoxItem},
                                                               Path=IsSelected,
                                                               Converter={x:Static local:Converters.VisibilityConverter}}" />
                                    <TextBlock Text="{Binding Name}" />
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                    <GroupBox Grid.Row="2"
                              DataContext="{Binding StartGetMangaCommand}"
                              Header="Deep Scan">
                        <StackPanel Orientation="Horizontal">
                            <Button Width="20"
                                    Height="20"
                                    Margin="2"
                                    Command="{Binding }"
                                    DataContext="{Binding StartCommand}">
                                <Path HorizontalAlignment="Center"
                                      Data="F1M1188.2,1715.23L1169.93,1728.57 1151.66,1741.9 1151.66,1715.23 1151.66,1688.57 1169.93,1701.9 1188.2,1715.23z"
                                      Fill="Blue"
                                      Stretch="Uniform" />
                            </Button>
                            <Button Width="20"
                                    Height="20"
                                    Command="{Binding }"
                                    DataContext="{Binding PauseCommand}">
                                <Path HorizontalAlignment="Center"
                                      Data="M27.270001,0L44.310001,0 44.310001,48.643002 27.270001,48.643002z M0,0L17.040001,0 17.040001,48.643002 0,48.643002z"
                                      Fill="Blue"
                                      Stretch="Uniform" />
                            </Button>
                            <Button Width="20"
                                    Height="20"
                                    Command="{Binding }"
                                    DataContext="{Binding ResumeCommand}">
                                <Path HorizontalAlignment="Center"
                                      Data="M28.780985,41.336002C28.496494,41.336002,28.266001,41.566498,28.266001,41.851791L28.266001,50.993412C28.266001,51.278606,28.496494,51.508999,28.780985,51.508999L34.317913,51.508999C34.602406,51.508999,34.833,51.278606,34.833,50.993412L34.833,41.851791C34.833,41.566498,34.602406,41.336002,34.317913,41.336002z M40.290691,36.568001C40.158936,36.568001,40.027103,36.618156,39.926502,36.718464L36.010456,40.635406C35.809849,40.835823,35.809849,41.161453,36.010456,41.363171L42.476196,47.82864C42.677402,48.030457,43.003517,48.030457,43.204723,47.82864L47.120171,43.912994C47.321278,43.711079,47.321278,43.385647,47.120171,43.185131L40.65443,36.718464C40.554123,36.618156,40.422443,36.568001,40.290691,36.568001z M22.807365,36.567997C22.675535,36.567997,22.543705,36.618153,22.44315,36.71846L15.977982,43.18507C15.776672,43.38559,15.776672,43.71101,15.977982,43.91293L19.893543,47.828537C20.094753,48.029156,20.420967,48.029156,20.622074,47.828537L27.087244,41.363129C27.288252,41.161411,27.288252,40.835785,27.087244,40.635372L23.171581,36.71846C23.071028,36.618153,22.939196,36.567997,22.807365,36.567997z M41.14299,28.974001C40.858395,28.974001,40.627998,29.204418,40.627998,29.48954L40.627998,35.026463C40.627998,35.311584,40.858395,35.542004,41.14299,35.542004L50.285412,35.542004C50.569908,35.542004,50.801003,35.311584,50.801003,35.026463L50.801003,29.48954C50.801003,29.204418,50.569908,28.974001,50.285412,28.974001z M12.812041,28.974001C12.527518,28.974001,12.297,29.204418,12.297,29.48954L12.297,35.026463C12.297,35.311584,12.527518,35.542004,12.812041,35.542004L21.955961,35.542004C22.240482,35.542004,22.471001,35.311584,22.471001,35.026463L22.471001,29.48954C22.471001,29.204418,22.240482,28.974001,21.955961,28.974001z M42.840401,16.536001C42.708572,16.535999,42.57674,16.586475,42.476135,16.687426L36.01091,23.152283C35.8097,23.352785,35.8097,23.679789,36.01091,23.880091L39.926407,27.795725C40.127617,27.997425,40.453732,27.997425,40.655041,27.795725L47.120171,21.330667C47.321278,21.130066,47.321278,20.803263,47.120171,20.602762L43.20467,16.687426C43.104065,16.586475,42.972233,16.535999,42.840401,16.536001z M20.257847,16.536001C20.126005,16.535999,19.994148,16.586475,19.893545,16.687426L15.977982,20.602762C15.776672,20.803263,15.776672,21.130066,15.977982,21.330667L22.443151,27.795725C22.64426,27.997425,22.970474,27.997425,23.171581,27.795725L27.087246,23.880091C27.288254,23.679789,27.288254,23.352785,27.087246,23.152283L20.622076,16.687426C20.521521,16.586475,20.38969,16.535999,20.257847,16.536001z M28.780985,13.007C28.496494,13.007,28.266001,13.237295,28.266001,13.52129L28.266001,22.66431C28.266001,22.948105,28.496494,23.18,28.780985,23.18L34.317913,23.18C34.602406,23.18,34.833,22.948105,34.833,22.66431L34.833,13.52129C34.833,13.237295,34.602406,13.007,34.317913,13.007z M7.7259998,0L54.59985,0C58.866978,0,62.326,3.4596601,62.326,7.7265606L62.326,56.273499C62.326,60.540401,58.866978,64,54.59985,64L7.7259998,64C3.4590023,64,0,60.540401,0,56.273499L0,7.7265606C0,3.4596601,3.4590023,0,7.7259998,0z"
                                      Fill="Blue"
                                      Stretch="Uniform" />
                            </Button>
                            <Button Width="20"
                                    Height="20"
                                    Command="{Binding }"
                                    DataContext="{Binding StopCommand}">
                                <Path HorizontalAlignment="Center"
                                      Data="M0,0L64.992,0 64.992,64.992 0,64.992z"
                                      Fill="Blue"
                                      Stretch="Uniform" />
                            </Button>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </Expander>
            <Expander Grid.Column="0"
                      ExpandDirection="Right"
                      IsExpanded="true">
                <ScrollViewer>
                    <ListBox ItemsSource="{Binding SeriesFolders}" SelectedItem="{Binding SelectedFolder}" />
                </ScrollViewer>
            </Expander>
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="50" />
                    <RowDefinition />
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Orientation="Horizontal">
                    <ComboBox Width="200"
                              ItemsSource="{Binding ChapterPaths}"
                              SelectedItem="{Binding SelectedChapter}" />
                    <Button Width="80"
                            Margin="5"
                            Click="Button_Click_1"
                            Content="Previous" />
                    <Button Width="80"
                            Margin="5"
                            Click="Button_Click"
                            Content="Next" />
                </StackPanel>
                <ScrollViewer Name="ContentViewer" Grid.Row="1">
                    <ItemsControl Name="PageListView"
                                  HorizontalAlignment="Center"
                                  ItemsSource="{Binding LoadingPages}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Image Source="{Binding Converter={x:Static local:Converters.UriToBitmapImageConverter}, Mode=OneTime}" />
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </Grid>

        </Grid>

    </Grid>
</Window>